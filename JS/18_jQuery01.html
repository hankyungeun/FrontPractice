<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <title>jQuery 01</title>
</head>
<body>
    <p>
        기존 자바스크립트 언어만으로 구현하기엔 복잡하고, 간소화하기 위해 만들어진
        자바스크립트 기반의 라이브러리(유용한 기능 모음집) <br>
        즉, 자바스크립트 언어로 유용한 함수나 내용들이 이미 정의되어 있는 모음<br>
        <br>
        복잡한 자바스크립트 구문을 보다 짧고 쉽게 개발 가능<br>
        <br>
        => 장점
        1) DOM요소와 관련된 스크립트를 쉽게 구현<br>
        2) ajax(비동기식 통신) 이벤트 처리를 폭 넓게 지원<br>
        3) jQuery와 관련된 확장형 플러그인, 오픈API 등을 지원(차트, 슬라이더, 캘린더, ...)
    </p>
    <hr>
    <h3>* jQuery라이브러리 연결 방법</h3>
    <p>
        head 태그 안에 script 태그로 외부 라이브러리(jQuery) 연결
        - .js 파일 연결(2가지) <br>
        1. jQuery 라이브러리를 직접 다운로드 받아 경로 지정(오프라인) <br>
        2. CDN 방식 (온라인) => 파일 다운로드 없이, url로 연결
    </p>
    <hr>
    <h3>* jQuery 구문 작성하기</h3>
    <P>
        jQuery 구문으로 DOM요소를 다루는 구문을 기본적으로 작성하기 때문에 <br>
        HTML문서 상에 요소들이 모두 만들어지고 나서 실행되어야 함
    </P>
    <pre>
        > 순수 자바스크립트(바닐라js)에서는 onload를 사용
        window.onload = function(){
            // 모든 요소가 표시된 이후 실행할 코드
        }

        > jQuery에서는 아래와 같이 사용
        $(document).ready(function(){
            // 실행코드
        });

        $(function() {
            // 실행코드
        });
    </pre>
    <div id="area1"></div>
    <script>
        /*
        $(document).ready(function() {
            // 선택자를 사용해서 요소 접근
            // 1) 자바스크립트를 사용하여 요소 접근(선택자 #area1)
            document.querySelector("#area1").innerHTML = "안녕하세요<br>";
            // 2) jQuery를 사용하여 요소 접근
            $("#area1").css("color","red");
        });
        */

        $(function() {
            document.querySelector("#area1").innerHTML = "안녕하세요<br>";
            $("#area1").css("color","red");
        })

        /*
        onload = function(){
            var area1 = document.querySelector("#area1");
            area1.innerHTML = "안녕하세요<br>";
            area1.style.color = "red";
        }
        */
    </script>
    <hr>
    <h3>* 태그 선택자</h3>
    <pre>
        - 순수 자바 스크립트 방식
            document.getElementsByTagName('태그명') : 요소객체배열

        - jQuery 방식
            $('태그명')
    </pre>
    <p>Java</p>
    <p>Python</p>
    <p>Spirng</p>

    <h5>HTML</h5>
    <h5>CSS</h5>
    <h5>JavaScript</h5>

    <ul>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
    </ul>
    <script>
        // 모든 요소들의 배치가 끝났을 때

        // p 태그의 글자 색을 빨간색으로 변경하고

        // li태그의 배경 색을 파란색으로 변경

        // 자바스크립트 구문, jQuery 구문 1번씩 사용
//-------------------------------------------------------------------------------
        $(function() {
            //배열 없이 한번에 적용해줌
            $('p').css("color","red");
            $('li').css("background","blue");
        });
//-----------------------------------------------------------------------------
        // window.onload = function(){
        //     changeP();
        //     changeli();
        // }


        // function changeP(){
        //     let p = document.getElementsByTagName('p');
        //     for(let i of p){
        //         i.style.color="red";
        //     }
        // }

        // function changeli(){
        //     let li = document.getElementsByTagName('li')
        //     for(let i of li){
        //         i.style.background="blue";
        //     }
        // }
    </script>
    <hr>
    <h4>요소 선택 방법 & 선택된 요소의 속성값 변경 방법</h4>
    <table border="1">
        <thead>
            <tr>
                <th></th>
                <th>순수 자바 스크립트</th>
                <th>jQuery 방식</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>아이디 속성으로 접근</th>
                <td>getElementById('아이디명')</td>
                <td>$('#아이디명')</td>
            </tr>
            <tr>
                <th>클래스 속성으로 접근</th>
                <td>getElementsByClassName('클래스명')</td>
                <td>$('.클래스명')</td>
            </tr>
            <tr>
                <th>태그명으로 접근</th>
                <td>getElementsByTagName('태그명')</td>
                <td>$('태그명')</td>
            </tr>
            <tr>
                <th>선택자로 접근</th>
                <td>querySelector('선택자')</td>
                <td>$('선택자')</td>
            </tr>
            <!-- 선택된 요소의 속성값 변경 -->
            <tr>
                <th></th>
                <td>선택된 요소 객체에 직접 접근해서 변경</td>
                <td>선택된 요소의 메소드 이용</td>
            </tr>
            <tr>
                <th>스타일</th>
                <td>요소.style.스타일 속성 = '적용할 값'</td>
                <td>요소.css('속성', '적용할 값')</td>
            </tr>
            <tr>
                <th rowspan="3">내용</th>
                <td>요소.innerHTML</td>
                <td>요소.html('내용')</td>
            </tr>
            <tr>
                <td>요소.innerHTML</td>
                <td>요소.text('내용')</td>
            </tr>
            <tr>
                <td>요소.value = '내용'(input태그)</td>
                <td>요소.val('내용') (input태그)</td>
            </tr>
            <tr>
                <th>이벤트</th>
                <td>요소.on이벤트명 = function() {수행할내용}</td>
                <td>요소.이벤트명(function() {수행할내용})</td>
            </tr>
        </tbody>
    </table>
    <hr>
    <h3>* jQuery 에서 input</h3>
    <pre>
        :type속성값 => 선택자로 사용
    </pre>
    텍스트 상자 : <input type="text" name="" id=""> <br>
    일반 버튼 : <input type="button" value="일반버튼"><br>
    체크박스 : <input type="checkbox" name="" id=""><br>
    첨부파일 : <input type="file" name="" id=""><br>
    비밀번호 : <input type="password" name="" id=""><br>
    라디오 버튼 : <input type="radio" name="" id=""><br>
    초기화 버튼 : <input type="reset" value="초기화"><br>
    제출 버튼 : <input type="submit" value="제출"><br>
    <script>
        $(function(){
            // 텍스트 상자에 배경색을 변경
            $(':text').css('background-color', '#b6210c70');

            // 일반버튼의 가로 : 100px, 세로 : 100px, 내용을 '메롱' 변경
            $(':button').css({'height':'100px','width':'100px'}).val('메롱');

            //체크박스의 속성 checked의 값을 true로 변경
            $(':checkbox').prop('checked', true);
            
            // 첨부파일 부분의 배경색을 변경
            $(':file').css('background-color','red');
            
            //비밀번호 배경색 변경
            $(':password').css('background','blue');

            //라디오 버튼 체크된 상태로 변경하고, 가로 : 50px, 세로 : 50px변경
            $(':radio').prop('checked', true).css({'height':'50px','width':'50px'});
            
            //제출 버튼을 클릭하면 화면에 'ㅋㅋㅋ'알림창이 표시되도록
            $(':submit')
            .click(function(){alert('ㅋㅋㅋ')})
            .mouseover(function(){
                    $(this).val('선택');
                })
            .mouseout(function(){
                $(this).val('제출');
            })

            //hover : 이벤트로서 존재하지는 않지만 제이쿼리에서 제공하는 이벤트
            //초기화 버튼에 마우스가 올라가면"새로고침" 마우스가 내려가면 "초기화"표시
            //.hover(마우스 요소에 들어왓을 때 동작할 함수, 마우스가 요소 바깥으로 나갔을 때 동작할 함수)
            $(':reset').hover(function(){
                $(this).val("새로고침");
            }, function(){
                $(this).val("초기화");
            });
        });
    </script>
    <br><br>
    <select name="userName" id="userSelect">
        <option value="1">김정우</option>
        <option value="2">한경은</option>
        <option value="3">고주영</option>
        <option value="4">심재윤</option>
        <option value="5">이동협</option>
    </select>

    
    <h4 class="h4-ele">test1</h4>
    <h4 class="h4-ele">test2</h4>
    <h4 class="h4-ele">test3</h4>
    <h4 class="h4-ele">test4</h4>
    <h4 class="h4-ele">test5</h4>
    
    <script>
        $(function(){
            //change : 요소의 값이 변경되었을 때 발생하는 이벤트
            //select 태그의 값이 변경되면 변경된 값으로 h4태그 내에 내용을 업데이트
            $('#userSelect').change(function(event){
                console.log($(this).val());         // 선택된 항목 option태그의 value 속성 값
                console.log($(this).text());        // select태그 내의 모든 텍스트
                console.log(event);
                
                $('h4-ele').text($("#userSelect option:nth-child("+$(this).val() + ")"))
            });
        })
    </script>
    <hr>
    <h3>* jQuery의 반복문</h3>
    <ol>
        <li>for in 문법</li>
        <li>each 메소드</li>
    </ol>
    <h4>1) for in 문법</h4>
    <pre>
        //for
        for(초기식;조건식;증감식){

        }
        // for in
        for(변수타입 변수명 in 배열명){
            // 변수명 => 인덱스
        }

        //for of
        for(변수타입 변수명 of 배열명){
            //변수명 => 배열 내 데이터
        }
        배열명.forEach(function(item){
            //item
        });
    </pre>
    <h4> 2) each 메소드</h4>
    <pre>
        $.each(배열명, function(인덱스로 사용할 변수명-index, 해당 데이터를 사용할 변수명-value){
            // index=>배열 인덱스 값
            // value => 배열 내 데이터 값
        });

        $(배열변수).each(function(index, value){
            //index=>배열 인덱스 값
            // value => 배열 내 데이터 값
        });
    </pre>
    <div style="border: 1px solid pink; height: 200px;" id="area6"></div>
    <script>
        $(function(){
            let arr=['모','나','미'];

            //for in
            for(let i in arr){
                $("#area6").text($('#area6').text() + i);
            }

            //for of
            for(let v in arr){
                $("#area6").text($('#area6').text() + v);
            }

            // -------------------------------------------

            $.each(arr,function(index,value){
                let data = index + " : " + value+" ";
                $('#area6').text($("#area6").text() + data);
            })

            $(arr).each(arr,function(index,value){
                let data = index + " : " + value+" ";
                $('#area6').text($("#area6").text() + data);
            });
            
            // ---------------------------------------------
            
            const obj ={
                name : "모나미",
                amount : 12
            };
            
            // 동작은 되나, 속성별로 값을 꺼내오기 힘듦
            // $(obj).each(function(index,value){
            //     console.log(index, value);
                
            // })

            // 오류 발생 forEach를 찾을 수 없음
            // obj.forEach(function(value,index){
            //     console.log(value,index);
            // })

            //객체에서는 속성명을(key)을 꺼내올 수 있다.
            for(let key in obj){
                console.log(key);
            }

            //오류발생 객체는 for of 구문 사용 불가
            // for(let v in obj){
            //     console.log(v);
            // }

        });
    </script>
</body>
</html>